{% extends 'user_base.html' %}

{% block title %} 
    Request
{% endblock %}

    
{% block content %}


 {% load static %}



<!-- User Requesting Blood form  -->
<div class=" flex flex-row py-6 justify-center antialiased">
    <!--  -->
    <div class="py-3 sm:max-w-xl sm:mx-auto">
        <!-- Heading -->
        <p class="text-3xl font-light text-brightRed text-center">Enter Details of Patient</p>
        <div class="mt-3 bg-white shadow-md rounded-lg">
            <div class="h-2 bg-brightRed rounded-t-md"></div>
            <!-- Form -->
            <form method="post" enctype="multipart/form-data" class="px-8 py-6" role="form" name="usersignup" onsubmit="">
                {% csrf_token %}

                <!-- Heading inside form -->
                
                
            <div class="md:flex justify-between space-x-2">
                <!-- Full Name -->
                <input type="text" placeholder="Full Name" name="reqfname" class=" text-sm border w-full h-5 px-4 py-4 mt-2 hover:outline-none focus-outline-none focus:ring-1 focus:ring-brightRed rounded-sm" required pattern="[A-Za-z]+">

            </div>

            <div class="md:flex justify-between">

                <!-- Age Field -->
               
                <input type="number" placeholder="Age" name="reqage" min="18" max="80" class="text-sm border w-full md:w-1/4 h-5 px-4 py-4 mt-2 hover:outline-none focus-outline-none focus:ring-1 focus:ring-brightRed rounded-sm" required>

                <!-- Place field -->
                <input type="text" placeholder="Place" name="reqplace" class="text-sm border w-full md:w-1/4 h-5 px-4 py-4 mt-2 hover:outline-none focus-outline-none focus:ring-1 focus:ring-brightRed rounded-sm" required>

                <!-- Zip -->
                <input type="text" placeholder="Pin Code" name="reqpin" class="text-sm border w-full md:w-1/4 h-5 px-4 py-4 mt-2 hover:outline-none focus-outline-none focus:ring-1 focus:ring-brightRed rounded-sm" required>

            </div>

                 <!-- Mobile Number Field -->
                 <input type="tel" placeholder="Mobile Number" name="reqmob" class="text-sm border w-full  h-5 px-4 py-4 mt-2 hover:outline-none focus-outline-none focus:ring-1 focus:ring-brightRed rounded-sm" required>

                  <!-- Description field -->
                <input type="text" placeholder="Description" name="reqdescription" class="text-sm border w-full h-5 px-4 py-4 mt-2 hover:outline-none focus-outline-none focus:ring-1 focus:ring-brightRed rounded-sm" required>

                 

                <!-- Heading -->
                <label for="reqbloodgroup" class="block text-xs font-light text-brightRed mt-4 text-center">Select Required Blood Group</label>

                <!-- Select Blood Group -->
                    <select name="reqbloodgroup" class="form-select appearance-none
                    mt-2
                    block
                    w-full
                    px-3
                    py-2
                    text-sm
                    font-normal
                    text-gray-700
                    bg-white bg-clip-padding bg-no-repeat
                    border border-solid border-gray-300
                    rounded-sm
                    transition
                    ease-in-out
                    m-0
                    focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none">
                    <option value="opositive">O +ve</option>
                    <option value="onegative">O -ve</option>
                    <option value="apositive">A +ve</option>
                    <option value="anegative">A -ve</option>
                    <option value="bpositive">B +ve</option>
                    <option value="bnegative">B -ve</option>
                    <option value="abpositive">AB +ve</option>
                    <option value="abnegative">AB -ve</option>
                </select>
              
              <!-- Add Profile Pic -->
                  <label for="reqpic" class="block mb-2 mt-2 text-xs text-brightRed text-center">Add a Profile Pic (optional)</label>
                  <input type="file"
                  name="userpic"
                  class="form-control text-sm mt-2
                  block
                  w-full
                  px-3
                  py-1
                  font-normal
                  text-gray-700
                  bg-white bg-clip-padding
                  border border-solid border-gray-300
                  rounded
                  transition
                  ease-in-out
                  m-0
                  focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none">

                   <!-- Register Button -->
                <div class="flex justify-center">
                   <button type="submit" class="mt-4 bg-brightRed text-white py-2 px-5 rounded-full hover:bg-brightRedLight shadow-lg items-center">Create Post </button>
                </div>
            </form>
        </div>
    </div>

</div>

</div>

<!-- Error Message -->
{% if error == "no" %}
<script>
    alert('Post Created Succesfully, You can share or track status in dashboard');
    window.location=("{% url 'user_dashboard' %}");
</script>
{% endif %}

{% if error == "yes" %}
<script>
    alert('Something went wrong..! Please try again');
</script>
{% endif %}


{% endblock %}