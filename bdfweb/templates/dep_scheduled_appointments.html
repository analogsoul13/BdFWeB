{% extends 'dep_base.html' %}

{% block title %}
Appointments
{% endblock %}

{% block content %}

{% load static %}

<div class="flex flex-col justify-center antialiased bg-gray-100 text-gray-600 h-screen ml-14 mt-14 mb-10 md:ml-64 px-4 ">
    <!-- Table -->
    {% for i in appointment %}
    <div class="w-full max-w-screen mx-auto bg-gray-300 shadow-lg rounded-sm border border-gray-200">
        <header class="px-5 py-4 border-b border-gray-100">
            <div class="font-semibold text-gray-800">Donor Appointment Details {{ forloop.counter}}</div>
        </header>
        
        <div class="overflow-x-auto p-3">
            
            <table class="table-auto w-full">
                <thead class="text-xs font-semibold uppercase text-gray-400 bg-gray-50">
                    <tr>
                        
                        <th class="p-2">
                            <div class="font-semibold text-left">Name</div>
                        </th>
                        <th class="p-2">
                            <div class="font-semibold text-left">Blood Group</div>
                        </th>
                        <th class="p-2">
                            <div class="font-semibold text-left">Age</div>
                        </th>
                        <th class="p-2">
                            <div class="font-semibold text-left">Regular Donor</div>
                        </th>
                    </tr>
                </thead>
            
                <tbody class="text-sm divide-y divide-gray-100">
                    
                    <!-- record 1 -->
                    <tr>
                        
                        <td class="p-2">
                            <div class="font-medium text-gray-800">
                               {{i.fname}} {{i.lname}}
                            </div>
                        </td>
                        <td class="p-2">
                            <div class="text-left">
                                {{i.bloodgroup}}
                            </div>
                        </td>
                        <td class="p-2">
                            <div class="text-left font-medium text-green-500">
                                {{i.age}}
                            </div>
                        </td>
                        <td class="p-2">
                            <div class="text-left font-medium text-green-500">
                                {{i.regulardonor}}
                            </div>
                        </td>
                    </tr>


                    
                </tbody>
                <thead class="text-xs font-semibold uppercase text-gray-400 bg-gray-50">
                    <tr>
                        
                        <th class="p-2">
                            <div class="font-semibold text-left">Appointment Date</div>
                        </th>
                        <th class="p-2">
                            <div class="font-semibold text-left">Mobile Number</div>
                        </th>
                        <th class="p-2">
                            <div class="font-semibold text-left">Place</div>
                        </th>
                        <th class="p-2">
                            <div class="font-semibold text-left">Pin</div>
                        </th>
                    </tr>
                </thead>

                <tbody class="text-sm divide-y divide-gray-100">
                    <!-- record 2 -->
                    <tr>
                        
                        <td class="p-2">
                            <div class="font-medium text-red-600">
                                {{i.appointmentdate}}
                            </div>
                        </td>
                        <td class="p-2">
                            <div class="text-left">
                                {{i.mob}}
                            </div>
                        </td>
                        <td class="p-2">
                            <div class="text-left font-medium ">
                                {{i.place}}
                            </div>
                        </td>
                        <td class="p-2">
                            <div class="text-left font-medium">
                                {{i.pin}}
                            </div>
                        </td>
                    </tr>


                    
                </tbody>
            
            </table>
        </div>

        <!-- Department Activity 2 -->
        <div class="flex flex-col md:justify-between md:flex-row space-x-2 border-t bg-veryDarkBlue">
            
            <!-- Status Update -->
            
                <div class="flex text-gray-200 w-full md:w-1/2 justify-between">
                    <p class="uppercase p-4">Status :</p>
                    <div class="w-1/2 p-6 ">
                        
                        <p class="text-green-400">{{ i.status }}</p>

                    </div>
                    

                </div>

            <!-- Remark -->
                <div class="flex text-gray-200 w-full md:w-1/2 justify-between">
                    <p class="uppercase p-4">Remark :</p>
                    <div class="w-1/2 p-2">
                        <p>{{ i.departmentremark }}
                        </p>
                    </div>
                    

                </div>

        </div>
        

    </div>
    {% endfor %}
</div>

{% if error == "no" %}
<script>
    alert('Status & remark has been updated succesfully');
    window.location=("{% url 'donor_details' donor.id %}");
</script>
{% endif %}

{% if error ==  "yes" %}
<script>
    alert('Something went wrong , Try Again...')
</script>
{% endif %}

{% endblock %}
